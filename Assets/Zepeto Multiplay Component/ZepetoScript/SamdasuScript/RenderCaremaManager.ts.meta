fileFormatVersion: 2
guid: 18e053fdbc21402469935b09e6d6fdbe
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst ZEPETO_World_1 = require(\"ZEPETO.World\");\r\nconst
    TypeManager_1 = require(\"../Managers/TypeManager\");\r\nconst RenderCameraController_1
    = require(\"./RenderCameraController\");\r\nclass RenderCaremaManager extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n        super(...arguments);\r\n       
    this.isHold = false;\r\n    }\r\n    get touchItem() { return this._touchItem;
    }\r\n    set touchItem(value) {\r\n        this._touchItem = value;\r\n       
    console.log(` touchItem Update : ${value} `);\r\n        this.renderCameraController.SetTouchItem(value?.gameObject);\r\n   
    }\r\n    Start() {\r\n        if (!this.multiplay)\r\n            this.multiplay
    = UnityEngine_1.GameObject.FindObjectOfType($typeof(ZEPETO_World_1.ZepetoWorldMultiplay));\r\n       
    this.layer_Frame = 1 << UnityEngine_1.LayerMask.NameToLayer(TypeManager_1.Datas.Render_Frame);
    // Layer 8\r\n        this.layer_rnd = 1 << UnityEngine_1.LayerMask.NameToLayer(TypeManager_1.Datas.Render_Item);
    // Layer 7\r\n        this.wait = new UnityEngine_1.WaitForSeconds(0.04);\r\n       
    /* Set Manager */\r\n        const renderCameraController = this._renderCameraController.GetComponent($typeof(RenderCameraController_1.default));\r\n       
    if (renderCameraController)\r\n            this.renderCameraController = renderCameraController;\r\n       
    else\r\n            this.renderCameraController = this.GetComponentInChildren($typeof(RenderCameraController_1.default));\r\n       
    this._renderCameraController = null;\r\n    }\r\n    /* Raycasting */\r\n   
    Update() {\r\n        if (this.multiplay.Room != null && this.multiplay.Room.IsConnected)
    {\r\n            const hasPlayer = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.HasPlayer(this.multiplay.Room.SessionId);\r\n           
    if (hasPlayer) {\r\n                this.Rendercasting();\r\n            }\r\n       
    }\r\n    }\r\n    Rendercasting() {\r\n        if (!this.renderCamera) {\r\n           
    this.renderCamera = this.GetComponent($typeof(UnityEngine_1.Camera));\r\n       
    }\r\n        if (this.renderCamera && this.renderCamera.gameObject.activeSelf)
    {\r\n            /* Touch Start */\r\n            if (UnityEngine_1.Input.GetMouseButtonDown(0)
    && this.isHold == false) {\r\n                console.log(`Render Down`);\r\n               
    const ray = this.renderCamera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\r\n               
    const hitInfo = $ref();\r\n                if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_rnd)) {\r\n                   
    console.log(`Render Down SphereCast`);\r\n                    this.touchItem
    = hitInfo.value.transform;\r\n                    this.touchPoint = new UnityEngine_1.Vector3(hitInfo.value.point.x,
    hitInfo.value.point.y, 3);\r\n                    this.isHold = true;\r\n               
    }\r\n                /* Touch Drag */\r\n            }\r\n            else if
    (UnityEngine_1.Input.GetMouseButton(0) && this.isHold == true) {\r\n               
    console.log(`Render ---`);\r\n                const ray = this.renderCamera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\r\n               
    const hitInfo = $ref();\r\n                if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_Frame)) {\r\n                   
    console.log(`Render --- SphereCast`);\r\n                    this.touchPoint
    = new UnityEngine_1.Vector3(hitInfo.value.point.x, hitInfo.value.point.y, hitInfo.value.point.z);\r\n                   
    this.touchItem.position = this.touchPoint;\r\n                }\r\n               
    /* Touch End */\r\n            }\r\n            else if (UnityEngine_1.Input.GetMouseButtonUp(0)
    && this.isHold == true) {\r\n                console.log(`Render UP`);\r\n               
    /* TEST */\r\n                const ray = this.renderCamera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\r\n               
    const hitInfo = $ref();\r\n                if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_Frame)) {\r\n                   
    console.log(`Render UP SphereCast`);\r\n                    // this.touchPoint
    = new Vector3(hitInfo.value.point.x, hitInfo.value.point.y, hitInfo.value.point.z);\r\n                   
    // this.touchItem.position = this.touchPoint;\r\n                }\r\n               
    this.isHold = false;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.default
    = RenderCaremaManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVuZGVyQ2FyZW1hTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlJlbmRlckNhcmVtYU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBNEk7QUFDNUksNkVBQTREO0FBQzVELGlEQUFxRDtBQUNyRCwrQ0FBb0Q7QUFDcEQseURBQWdEO0FBQ2hELHFFQUE4RDtBQUU5RCxNQUFxQixtQkFBb0IsU0FBUSxxQ0FBcUI7SUFBdEU7O1FBU1ksV0FBTSxHQUFXLEtBQUssQ0FBQztJQXFGbkMsQ0FBQztJQWxGRyxJQUFXLFNBQVMsS0FBZ0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUM3RCxJQUFZLFNBQVMsQ0FBQyxLQUFnQjtRQUNsQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFNRCxLQUFLO1FBQ0QsSUFBRyxDQUFDLElBQUksQ0FBQyxTQUFTO1lBQ2QsSUFBSSxDQUFDLFNBQVMsR0FBRyx3QkFBVSxDQUFDLGdCQUFnQixTQUFDLG1DQUFvQixFQUFHLENBQUM7UUFFekUsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksdUJBQVMsQ0FBQyxXQUFXLENBQUMsbUJBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFVBQVU7UUFDN0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksdUJBQVMsQ0FBQyxXQUFXLENBQUMsbUJBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFVBQVU7UUFDMUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLDRCQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFckMsaUJBQWlCO1FBQ2pCLE1BQU0sc0JBQXNC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","assetPath":"Assets/Zepeto
    Multiplay Component/ZepetoScript/SamdasuScript/RenderCaremaManager.ts","manifest":{"properties":[{"assembly":"ZEPETO.World","name":"multiplay","type":"ZEPETO.World.ZepetoWorldMultiplay","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"_renderCameraController","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"RenderCaremaManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 57f4399becdf3857156cb0d664ba6514
  onlyWriteTrigger: 0
