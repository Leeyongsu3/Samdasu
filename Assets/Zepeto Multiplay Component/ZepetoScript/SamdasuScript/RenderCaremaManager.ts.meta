fileFormatVersion: 2
guid: 18e053fdbc21402469935b09e6d6fdbe
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst ZEPETO_World_1 = require(\"ZEPETO.World\");\r\nconst
    TypeManager_1 = require(\"../Managers/TypeManager\");\r\nclass RenderCaremaManager
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n       
    super(...arguments);\r\n        this.isHold = false;\r\n    }\r\n    Start()
    {\r\n        if (!this.multiplay)\r\n            this.multiplay = UnityEngine_1.GameObject.FindObjectOfType($typeof(ZEPETO_World_1.ZepetoWorldMultiplay));\r\n       
    this.layer_Frame = 1 << UnityEngine_1.LayerMask.NameToLayer(TypeManager_1.Datas.Render_Frame);
    // Layer 8\r\n        this.layer_rnd = 1 << UnityEngine_1.LayerMask.NameToLayer(TypeManager_1.Datas.Render_Item);
    // Layer 7\r\n        this.wait = new UnityEngine_1.WaitForSeconds(0.04);\r\n   
    }\r\n    /* Raycasting */\r\n    Update() {\r\n        if (this.multiplay.Room
    != null && this.multiplay.Room.IsConnected) {\r\n            const hasPlayer
    = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.HasPlayer(this.multiplay.Room.SessionId);\r\n           
    if (hasPlayer) {\r\n                this.Rendercasting();\r\n            }\r\n       
    }\r\n    }\r\n    Rendercasting() {\r\n        if (!this.renderCamera) {\r\n           
    this.renderCamera = this.GetComponent($typeof(UnityEngine_1.Camera));\r\n       
    }\r\n        if (this.renderCamera && this.renderCamera.gameObject.activeSelf)
    {\r\n            // if(Input.GetMouseButton(0)) {\r\n            //     const
    ray = this.renderCamera.ScreenPointToRay(Input.mousePosition);\r\n           
    //     const hitInfo = $ref<RaycastHit>();\r\n            //     if(Physics.SphereCast(ray,
    0.5, hitInfo, Mathf.Infinity, this.layer_rnd)) {\r\n            //         console.log(`${hitInfo.value.transform.name}
    ${hitInfo.value.transform.gameObject.layer} ${this.layer_rnd}`);\r\n           
    //         const renderItem = hitInfo.value.transform;\r\n            //        
    renderItem.position = new Vector3(hitInfo.value.point.x, hitInfo.value.point.y,
    renderItem.position.z);\r\n            //     }\r\n            // }\r\n           
    /* Touch Start */\r\n            if (UnityEngine_1.Input.GetMouseButtonDown(0)
    && this.isHold == false) {\r\n                const ray = this.renderCamera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\r\n               
    const hitInfo = $ref();\r\n                if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_rnd)) {\r\n                   
    // console.log(`${hitInfo.value.transform.name} ${hitInfo.value.transform.gameObject.layer}
    ${this.layer_rnd}`);\r\n                    this.touchItem = hitInfo.value.transform;\r\n                   
    this.touchPoint = new UnityEngine_1.Vector3(hitInfo.value.point.x, hitInfo.value.point.y,
    this.touchItem.position.z);\r\n                    this.StartCoroutine(this.ChasingYourTouch());\r\n               
    }\r\n                /* Touch Drag */\r\n            }\r\n            else if
    (UnityEngine_1.Input.GetMouseButton(0) && this.isHold == true) {\r\n               
    const ray = this.renderCamera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\r\n               
    const hitInfo = $ref();\r\n                if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_Frame)) {\r\n                   
    this.touchPoint = new UnityEngine_1.Vector3(hitInfo.value.point.x, hitInfo.value.point.y,
    this.touchItem.position.z);\r\n                }\r\n                /* Touch
    End */\r\n            }\r\n            else if (UnityEngine_1.Input.GetMouseButtonUp(0)
    && this.isHold == true) {\r\n                // console.log(`this.isHold = false`);\r\n               
    this.isHold = false;\r\n            }\r\n        }\r\n    }\r\n    *ChasingYourTouch()
    {\r\n        if (this.isHold == true)\r\n            return;\r\n        this.isHold
    = true;\r\n        while (this.isHold) {\r\n            yield this.wait;\r\n           
    this.touchItem.position = this.touchPoint;\r\n        }\r\n        this.StopCoroutine(this.ChasingYourTouch());\r\n   
    }\r\n}\r\nexports.default = RenderCaremaManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVuZGVyQ2FyZW1hTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlJlbmRlckNhcmVtYU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBNEk7QUFDNUksNkVBQTREO0FBQzVELGlEQUFxRDtBQUNyRCwrQ0FBb0Q7QUFDcEQseURBQWdEO0FBRWhELE1BQXFCLG1CQUFvQixTQUFRLHFDQUFxQjtJQUF0RTs7UUFTWSxXQUFNLEdBQVcsS0FBSyxDQUFDO0lBNkVuQyxDQUFDO0lBeEVHLEtBQUs7UUFDRCxJQUFHLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxHQUFHLHdCQUFVLENBQUMsZ0JBQWdCLFNBQUMsbUNBQW9CLEVBQUcsQ0FBQztRQUV6RSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSx1QkFBUyxDQUFDLFdBQVcsQ0FBQyxtQkFBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsVUFBVTtRQUM3RSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSx1QkFBUyxDQUFDLFdBQVcsQ0FBQyxtQkFBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsVUFBVTtRQUMxRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksNEJBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsZ0JBQWdCO0lBQ2hCLE1BQU07UUFDRixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEUsTUFBTSxTQUFTLEdBQUcsMkNBQWEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2xGLElBQUksU0FBUyxFQUFFO2dCQUNYLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQzthQUN4QjtTQUNKO0lBQ0ws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","assetPath":"Assets/Zepeto
    Multiplay Component/ZepetoScript/SamdasuScript/RenderCaremaManager.ts","manifest":{"properties":[{"assembly":"ZEPETO.World","name":"multiplay","type":"ZEPETO.World.ZepetoWorldMultiplay","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"RenderCaremaManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: ee0b1f45fd07bd95a76309520e08e3ae
  onlyWriteTrigger: 0
