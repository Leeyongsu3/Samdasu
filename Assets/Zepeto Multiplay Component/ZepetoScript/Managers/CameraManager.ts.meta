fileFormatVersion: 2
guid: 3d5587b69354bef4b93cc7e6ce7dd57b
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    ZEPETO_Character_Controller_1 = require(\\\"ZEPETO.Character.Controller\\\");\\r\\nconst
    ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst ZEPETO_World_1 =
    require(\\\"ZEPETO.World\\\");\\r\\nconst SyncIndexManager_1 = require(\\\"../Common/SyncIndexManager\\\");\\r\\nconst
    GameManager_1 = require(\\\"./GameManager\\\");\\r\\nconst TypeManager_1 = require(\\\"./TypeManager\\\");\\r\\nclass
    CameraManager extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor()
    {\\r\\n        super(...arguments);\\r\\n        this.isRaycasting = false;\\r\\n       
    this.isPushed = false;\\r\\n    }\\r\\n    Start() {\\r\\n        if (!this.multiplay)\\r\\n           
    this.multiplay = UnityEngine_1.GameObject.FindObjectOfType($typeof(ZEPETO_World_1.ZepetoWorldMultiplay));\\r\\n       
    this.layer_btn = 1 << UnityEngine_1.LayerMask.NameToLayer(TypeManager_1.Datas.Button);
    // Layer 6\\r\\n    }\\r\\n    /* Raycasting */\\r\\n    Update() {\\r\\n       
    if (this.multiplay.Room != null && this.multiplay.Room.IsConnected) {\\r\\n           
    const hasPlayer = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.HasPlayer(this.multiplay.Room.SessionId);\\r\\n           
    if (hasPlayer) {\\r\\n                this.Raycasting();\\r\\n               
    if (SyncIndexManager_1.default.CameraMode == TypeManager_1.CameraMode.FPS) {\\r\\n                   
    //// camera to character\\r\\n                    // const character = ZepetoPlayers.instance.GetPlayer(this.multiplay.Room.SessionId).character.transform;\\r\\n                   
    // const lookAxisRot = Quaternion.LookRotation(this.transform.parent.forward);\\r\\n                   
    // const projRot = Vector3.ProjectOnPlane(lookAxisRot.eulerAngles, Vector3.right);\\r\\n                   
    // character.rotation = Quaternion.Euler(projRot);\\r\\n                    ////
    character to camera\\r\\n                    // const character = ZepetoPlayers.instance.GetPlayer(this.multiplay.Room.SessionId).character.transform;\\r\\n                   
    // const lookAxisRot = Quaternion.LookRotation(character.forward);\\r\\n                   
    // const projRot = Vector3.ProjectOnPlane(lookAxisRot.eulerAngles, Vector3.right);\\r\\n                   
    // this.transform.parent.rotation = Quaternion.Euler(projRot);\\r\\n               
    }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    Raycasting() {\\r\\n       
    if (this.isRaycasting)\\r\\n            return;\\r\\n        this.isRaycasting
    = true;\\r\\n        // iphone \uC774\uC288\\r\\n        // \uC544\uC774\uD3F0\uC740
    \uC660\uC9C0\uB294 \uBAA8\uB974\uAC9F\uC9C0\uB9CC\\r\\n        // ButtonUp\uC77C\uB54C
    ButtonDown\uACFC Button\uB97C \uBB34\uC2DC\uD55C\uB2E4\\r\\n        // \uBE48
    \uACF5\uAC04\uC5D0 \uD130\uCE58 \uD6C4\uC5D0 \uB4DC\uB798\uADF8\uC0C1\uD0DC\uC5D0\uC11C
    \uBC84\uD2BC \uC704\uC5D0\uC11C ButtonUp\uC744 \uD560 \uB54C\uB9CC \uC791\uB3D9\uB41C\uB2E4!!!!\\r\\n       
    const ray = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.ZepetoCamera.camera.ScreenPointToRay(UnityEngine_1.Input.mousePosition);\\r\\n       
    const hitInfo = $ref();\\r\\n        /* Touch Start */\\r\\n        if (UnityEngine_1.Input.GetMouseButtonDown(0)
    && this.isPushed == false) {\\r\\n            if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_btn)) {\\r\\n               
    this.hitValue = hitInfo.value.transform.gameObject;\\r\\n                this.isPushed
    = true;\\r\\n            }\\r\\n            else {\\r\\n                this.isPushed
    = false;\\r\\n                this.hitValue = null;\\r\\n            }\\r\\n           
    /* Touch Drag */\\r\\n        }\\r\\n        else if (UnityEngine_1.Input.GetMouseButton(0)
    && this.isPushed == true) {\\r\\n            if (UnityEngine_1.Physics.SphereCast(ray,
    0.5, hitInfo, UnityEngine_1.Mathf.Infinity, this.layer_btn)) {\\r\\n           
    }\\r\\n            else {\\r\\n                this.isPushed = false;\\r\\n               
    this.hitValue = null;\\r\\n            }\\r\\n            /* Touch End */\\r\\n       
    }\\r\\n        else if (UnityEngine_1.Input.GetMouseButtonUp(0) && this.isPushed
    == true) {\\r\\n            GameManager_1.default.instance.SwitchButtonScript(this.hitValue.transform);\\r\\n           
    this.isPushed = false;\\r\\n            this.hitValue = null;\\r\\n        }\\r\\n       
    this.isRaycasting = false;\\r\\n    }\\r\\n}\\r\\nexports.default = CameraManager;\\r\\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FtZXJhTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkNhbWVyYU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBbUg7QUFDbkgsNkVBQTREO0FBQzVELGlEQUFxRDtBQUNyRCwrQ0FBb0Q7QUFDcEQsaUVBQTBEO0FBQzFELCtDQUF3QztBQUN4QywrQ0FBa0Q7QUFFbEQsTUFBcUIsYUFBYyxTQUFRLHFDQUFxQjtJQUFoRTs7UUFNWSxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUM5QixhQUFRLEdBQVksS0FBSyxDQUFDO0lBcUV0QyxDQUFDO0lBbkVHLEtBQUs7UUFDRCxJQUFHLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxHQUFHLHdCQUFVLENBQUMsZ0JBQWdCLFNBQUMsbUNBQW9CLEVBQUcsQ0FBQztRQUV6RSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSx1QkFBUyxDQUFDLFdBQVcsQ0FBQyxtQkFBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVTtJQUV6RSxDQUFDO0lBRUQsZ0JBQWdCO0lBQ2hCLE1BQU07UUFDRixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEUsTUFBTSxTQUFTLEdBQUcsMkNBQWEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2xGLElBQUksU0FBUyxFQUFFO2dCQUNYLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztnQkFDbEIsSUFBRywwQkFBZ0IsQ0FBQyxVQUFVLElBQUksd0JBQVUsQ0FBQyxHQUFHLEVBQUU7b0JBQzlDLHdCQUF3QjtvQkFDeEIseUdBQXlHO29CQUN6Ryw4RUFBOEU7b0JBQzlFLGtGQUFrRjtvQkFDbEYsa0RBQWtEO29CQUVsRCx3QkFBd0I7b0JBQ3hCLHlHQUF5RztvQkFDekcsa0VBQWtFO29CQUNsRSxrRkFBa0Y7b0JBQ2xGLDhEQUE4RDtpQkFDakU7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFHLElBQUksQ0FBQyxZQUFZO1lBQUUsT0FBTztRQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixZQUFZO1FBQ1osaUJBQWlCO1FBQ2pCLHNDQUFzQztRQUN0QyxxREFBcUQ7UUFDckQsTUFBTSxHQUFHLEdBQUcsMkNBQWEsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzdGLE1BQU0sT0FBTyxHQUFHLElBQUksRUFBYyxDQUFDO1FBRW5DLGlCQUFpQjtRQUNqQixJQUFHLG1CQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLEVBQUU7WUFDdEQsSUFBRyxxQkFBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxtQkFBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ3RFLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO2dCQUNuRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUN4QjtpQkFBTTtnQkFDSCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDeEI7WUFFTCxnQkFBZ0I7U0FDZjthQUFNLElBQUcsbUJBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7WUFDeEQsSUFBRyxxQkFBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxtQkFBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7YUFDekU7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2FBQ3hCO1lBRUwsZUFBZTtTQUNkO2FBQU0sSUFBRyxtQkFBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO1lBQzFELHFCQUFXLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDeEI7UUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUM5QixDQUFDO0NBQ0o7QUE1RUQsZ0NBNEVDIn0=\",\"assetPath\":\"Assets/Zepeto
    Multiplay Component/ZepetoScript/Managers/CameraManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"ZEPETO.World\",\"name\":\"multiplay\",\"type\":\"ZEPETO.World.ZepetoWorldMultiplay\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"CameraManager\",\"description\":\"\",\"hasAnimatorMove\":false},\"isCompiled\":true}"
  typescriptHash: 7da92843d44d919ea38ce80aa2448da3
  onlyWriteTrigger: 0
