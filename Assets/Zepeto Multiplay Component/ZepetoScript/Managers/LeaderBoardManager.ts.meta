fileFormatVersion: 2
guid: ed8170313901f3e47aa80d85cfe2baef
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    ZEPETO_Script_Leaderboard_1 = require(\"ZEPETO.Script.Leaderboard\");\r\nconst
    ZEPETO_World_1 = require(\"ZEPETO.World\");\r\nconst GameManager_1 = require(\"./GameManager\");\r\nconst
    TypeManager_1 = require(\"./TypeManager\");\r\nclass LeaderBoardManager extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n        super(...arguments);\r\n       
    this.rankUIs = [];\r\n        this._isStarted = false;\r\n    }\r\n    get isStarted()
    { return this._isStarted; }\r\n    set isStarted(value) { this._isStarted = value;
    }\r\n    /* From GameManager */\r\n    RemoteStart() {\r\n        for (let i
    = 0; i < this.rankCanvas.childCount; i++) {\r\n            const panel = this.rankCanvas.GetChild(i);\r\n           
    this.SetRankPanel(panel, i);\r\n        }\r\n        this.UpdateRankData();\r\n       
    this.isStarted = true;\r\n    }\r\n    /* Init Rank Panel UI */\r\n    SetRankPanel(panel,
    index) {\r\n        const text_Id = panel.GetChild(0).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    const text_Score = panel.GetChild(1).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    /* Set Clean */\r\n        text_Id.text = TypeManager_1.RankData.Empty;\r\n       
    text_Score.text = TypeManager_1.RankData.Zero;\r\n        /* Pushed Array */\r\n       
    const ui = {\r\n            panel: panel.gameObject,\r\n            rank: index,\r\n           
    text_Id: text_Id,\r\n            text_Score: text_Score,\r\n        };\r\n       
    this.rankUIs.push(ui);\r\n    }\r\n    /* Update Local Player''s Score */\r\n   
    SetScore() {\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.SetScore(TypeManager_1.RankData.TrashScoreId,
    100, (result) => {\r\n            GameManager_1.default.instance.SendUpdateRank();\r\n       
    }, (error) => {\r\n            console.error(` UpdateScore error : ${error} `);\r\n       
    });\r\n    }\r\n    /* Update Local Player''s Score */\r\n    UpdateScore() {\r\n       
    ZEPETO_Script_Leaderboard_1.LeaderboardAPI.SetScore(TypeManager_1.RankData.TrashScoreId,
    0, (result) => {\r\n        }, (error) => {\r\n            console.error(` UpdateScore
    error : ${error} `);\r\n        });\r\n        this.UpdateRankData();\r\n   
    }\r\n    /* Leaderboard + UserInfo */\r\n    UpdateRankData() {\r\n        console.log(`[LeaderBoard]
    Try to GetRangeRank`);\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.GetRangeRank(TypeManager_1.RankData.TrashScoreId,
    TypeManager_1.RankData.Rank_Start, TypeManager_1.RankData.Rank_End, ZEPETO_Script_Leaderboard_1.ResetRule.week,
    false, (result) => {\r\n            console.log(`[LeaderBoard] success GetRangeRank`);\r\n           
    /* Text Clear */\r\n            for (let i = 0; i < this.rankUIs.length; i++)
    {\r\n                const ui = this.rankUIs[i];\r\n                ui.text_Id.text
    = TypeManager_1.RankData.Empty;\r\n                ui.text_Score.text = TypeManager_1.RankData.Zero;\r\n           
    }\r\n            /* Get Player Datas */\r\n            const mems = [];\r\n           
    const ids = [];\r\n            if (result.rankInfo.rankList) {\r\n               
    for (let i = 0; i < result.rankInfo.rankList.length; i++) {\r\n                   
    if (9 < i) {\r\n                        break;\r\n                    }\r\n                   
    else {\r\n                        const data = result.rankInfo.rankList.get_Item(i);\r\n                       
    mems.push(data.member);\r\n                    }\r\n                }\r\n           
    }\r\n            /* Get Player ID */\r\n            ZEPETO_World_1.ZepetoWorldHelper.GetUserInfo(mems,
    (info) => {\r\n                console.log(`[LeaderBoard] success GetUserInfo
    `);\r\n                for (const data of info) {\r\n                    console.log(`data.zepetoId
    ${data.zepetoId} ===> ${data.zepetoId == null}, ${data.zepetoId == \"null\"}`);\r\n                   
    if (data.zepetoId)\r\n                        ids.push(this.ProcessingId(data.zepetoId));\r\n                   
    // else ids.push(this.ProcessingId(data.name))\r\n                }\r\n               
    /* Update Rank Text */\r\n                if (result.rankInfo.rankList) {\r\n                   
    for (let i = 0; i < result.rankInfo.rankList.length; i++) {\r\n                       
    if (9 < i)\r\n                            break;\r\n                        const
    data = result.rankInfo.rankList.get_Item(i);\r\n                        const
    ui = this.rankUIs[i];\r\n                        ui.text_Id.text = ids[i];\r\n                       
    ui.text_Score.text = data.score.toString();\r\n                    }\r\n               
    }\r\n            }, (error) => {\r\n                return console.log(error);\r\n           
    });\r\n        }, (error) => {\r\n            console.error(error);\r\n       
    });\r\n    }\r\n    ProcessingId(beforeId) {\r\n        if (beforeId.length <
    8) {\r\n            return beforeId;\r\n        }\r\n        return `${beforeId.slice(0,
    6)}***`;\r\n    }\r\n}\r\nexports.default = LeaderBoardManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGVhZGVyQm9hcmRNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTGVhZGVyQm9hcmRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXFGO0FBQ3JGLG1EQUFzQztBQUN0QyxpREFBcUQ7QUFDckQseUVBQThHO0FBQzlHLCtDQUF3RDtBQUV4RCwrQ0FBd0M7QUFDeEMsK0NBQWlEO0FBRWpELE1BQXFCLGtCQUFtQixTQUFRLHFDQUFxQjtJQUFyRTs7UUFJWSxZQUFPLEdBQVksRUFBRSxDQUFDO1FBQ3RCLGVBQVUsR0FBWSxLQUFLLENBQUM7SUFnSHhDLENBQUM7SUEvR0csSUFBVyxTQUFTLEtBQWMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMzRCxJQUFZLFNBQVMsQ0FBQyxLQUFjLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRWxFLHNCQUFzQjtJQUNmLFdBQVc7UUFDZCxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDMUIsQ0FBQztJQUVELHdCQUF3QjtJQUNoQixZQUFZLENBQUMsS0FBZSxFQUFFLEtBQVk7UUFDOUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLFNBQUMscUJBQUksRUFBRyxDQUFDO1FBQ3ZELE1BQU0sVUFBVSxHQUFHLEtB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","assetPath":"Assets/Zepeto
    Multiplay Component/ZepetoScript/Managers/LeaderBoardManager.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"rankCanvas","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"LeaderBoardManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: d3ae052006172c25b3de2205033ed561
  onlyWriteTrigger: 0
