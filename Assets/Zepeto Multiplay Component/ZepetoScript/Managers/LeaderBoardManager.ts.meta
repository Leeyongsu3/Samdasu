fileFormatVersion: 2
guid: ed8170313901f3e47aa80d85cfe2baef
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    ZEPETO_Script_Leaderboard_1 = require(\"ZEPETO.Script.Leaderboard\");\r\nconst
    ZEPETO_World_1 = require(\"ZEPETO.World\");\r\nconst SyncIndexManager_1 = require(\"../Common/SyncIndexManager\");\r\nconst
    TypeManager_1 = require(\"./TypeManager\");\r\nclass LeaderBoardManager extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n        super(...arguments);\r\n       
    this.rankUIs = [];\r\n        this._isStarted = false;\r\n    }\r\n    get isStarted()
    { return this._isStarted; }\r\n    set isStarted(value) { this._isStarted = value;
    }\r\n    /* From GameManager */\r\n    RemoteStart() {\r\n        for (let i
    = 0; i < this.rankCanvas.childCount; i++) {\r\n            const panel = this.rankCanvas.GetChild(i);\r\n           
    this.SetRankPanel(panel, i);\r\n        }\r\n        this.UpdateRankData();\r\n       
    this.isStarted = true;\r\n    }\r\n    /* Init Rank Panel UI */\r\n    SetRankPanel(panel,
    index) {\r\n        const text_Id = panel.GetChild(0).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    const text_Score = panel.GetChild(1).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    /* Set Clean */\r\n        text_Id.text = TypeManager_1.RankData.Empty;\r\n       
    text_Score.text = TypeManager_1.RankData.Zero;\r\n        /* Pushed Array */\r\n       
    const ui = {\r\n            panel: panel.gameObject,\r\n            rank: index,\r\n           
    text_Id: text_Id,\r\n            text_Score: text_Score,\r\n        };\r\n       
    this.rankUIs.push(ui);\r\n    }\r\n    /* Update Local Player''s Score */\r\n   
    UpdateScore() {\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.SetScore(TypeManager_1.RankData.TrashScoreId,
    SyncIndexManager_1.default.Score, (result) => {\r\n            this.UpdateRankData();\r\n       
    }, (error) => {\r\n            console.error(` UpdateScore error : ${error} `);\r\n       
    });\r\n    }\r\n    /* Leaderboard + UserInfo */\r\n    UpdateRankData() {\r\n       
    console.log(`[LeaderBoard] Try to GetRangeRank`);\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.GetRangeRank(TypeManager_1.RankData.TrashScoreId,
    TypeManager_1.RankData.Rank_Start, TypeManager_1.RankData.Rank_End, ZEPETO_Script_Leaderboard_1.ResetRule.week,
    false, (result) => {\r\n            console.log(`[LeaderBoard] success GetRangeRank`);\r\n           
    /* Text Clear */\r\n            for (let i = 0; i < this.rankUIs.length; i++)
    {\r\n                const ui = this.rankUIs[i];\r\n                ui.text_Id.text
    = TypeManager_1.RankData.Empty;\r\n                ui.text_Score.text = TypeManager_1.RankData.Zero;\r\n           
    }\r\n            /* Get Player Datas */\r\n            const mems = [];\r\n           
    const ids = [];\r\n            if (result.rankInfo.rankList) {\r\n               
    for (let i = 0; i < result.rankInfo.rankList.length; i++) {\r\n                   
    if (9 < i) {\r\n                        break;\r\n                    }\r\n                   
    else {\r\n                        const data = result.rankInfo.rankList.get_Item(i);\r\n                       
    mems.push(data.member);\r\n                    }\r\n                }\r\n           
    }\r\n            /* Get Player ID */\r\n            ZEPETO_World_1.ZepetoWorldHelper.GetUserInfo(mems,
    (info) => {\r\n                console.log(`[LeaderBoard] success GetUserInfo
    `);\r\n                for (const data of info) {\r\n                    if (data.zepetoId)\r\n                       
    ids.push(this.ProcessingId(data.zepetoId));\r\n                    else\r\n                       
    ids.push(this.ProcessingId(data.name));\r\n                }\r\n               
    /* Update Rank Text */\r\n                if (result.rankInfo.rankList) {\r\n                   
    for (let i = 0; i < result.rankInfo.rankList.length; i++) {\r\n                       
    if (9 < i)\r\n                            break;\r\n                        const
    data = result.rankInfo.rankList.get_Item(i);\r\n                        const
    ui = this.rankUIs[i];\r\n                        ui.text_Id.text = ids[i];\r\n                       
    ui.text_Score.text = data.score.toString();\r\n                    }\r\n               
    }\r\n            }, (error) => {\r\n                return console.log(error);\r\n           
    });\r\n        }, (error) => {\r\n            console.error(error);\r\n       
    });\r\n    }\r\n    ProcessingId(beforeId) {\r\n        if (beforeId.length <
    8) {\r\n            return beforeId;\r\n        }\r\n        return `${beforeId.slice(0,
    6)}***`;\r\n    }\r\n}\r\nexports.default = LeaderBoardManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGVhZGVyQm9hcmRNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTGVhZGVyQm9hcmRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXFGO0FBQ3JGLG1EQUFzQztBQUN0QyxpREFBcUQ7QUFDckQseUVBQThHO0FBQzlHLCtDQUF3RDtBQUN4RCxpRUFBMEQ7QUFDMUQsK0NBQWlEO0FBRWpELE1BQXFCLGtCQUFtQixTQUFRLHFDQUFxQjtJQUFyRTs7UUFJWSxZQUFPLEdBQVksRUFBRSxDQUFDO1FBQ3RCLGVBQVUsR0FBWSxLQUFLLENBQUM7SUFvR3hDLENBQUM7SUFuR0csSUFBVyxTQUFTLEtBQWMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMzRCxJQUFZLFNBQVMsQ0FBQyxLQUFjLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRWxFLHNCQUFzQjtJQUNmLFdBQVc7UUFDZCxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDMUIsQ0FBQztJQUVELHdCQUF3QjtJQUNoQixZQUFZLENBQUMsS0FBZSxFQUFFLEtBQVk7UUFDOUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLFNBQUMscUJBQUksRUFBRyxDQUFDO1FBQ3ZELE1BQU0sVUFBVSxHQUFHLEtB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","assetPath":"Assets/Zepeto
    Multiplay Component/ZepetoScript/Managers/LeaderBoardManager.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"rankCanvas","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"LeaderBoardManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: b3f36a4d763cf844fa77b7567c66011e
  onlyWriteTrigger: 0
