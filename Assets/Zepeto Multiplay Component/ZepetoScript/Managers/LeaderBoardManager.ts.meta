fileFormatVersion: 2
guid: ed8170313901f3e47aa80d85cfe2baef
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    ZEPETO_Script_Leaderboard_1 = require(\"ZEPETO.Script.Leaderboard\");\r\nconst
    SyncIndexManager_1 = require(\"../Common/SyncIndexManager\");\r\nconst TypeManager_1
    = require(\"./TypeManager\");\r\nclass LeaderBoardManager extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.rankUIs
    = [];\r\n        this._isStarted = false;\r\n    }\r\n    get isStarted() { return
    this._isStarted; }\r\n    set isStarted(value) { this._isStarted = value; }\r\n   
    /* From GameManager */\r\n    RemoteStart() {\r\n        for (let i = 0; i <
    this.rankCanvas.childCount; i++) {\r\n            const panel = this.rankCanvas.GetChild(i);\r\n           
    this.SetRankPanel(panel, i);\r\n        }\r\n        this.UpdateRankData();\r\n       
    this.isStarted = true;\r\n    }\r\n    /* Init Rank Panel UI */\r\n    SetRankPanel(panel,
    index) {\r\n        const text_Id = panel.GetChild(0).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    const text_Score = panel.GetChild(1).GetComponent($typeof(UnityEngine_UI_1.Text));\r\n       
    /* Set Clean */\r\n        text_Id.text = TypeManager_1.RankData.Empty;\r\n       
    text_Score.text = TypeManager_1.RankData.Zero;\r\n        /* Pushed Array */\r\n       
    const ui = {\r\n            panel: panel.gameObject,\r\n            rank: index,\r\n           
    text_Id: text_Id,\r\n            text_Score: text_Score,\r\n        };\r\n       
    this.rankUIs.push(ui);\r\n    }\r\n    /* Update Local Player''s Score */\r\n   
    UpdateScore() {\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.SetScore(TypeManager_1.RankData.TrashScoreId,
    SyncIndexManager_1.default.Score, (result) => {\r\n            this.UpdateRankData();\r\n       
    }, (error) => {\r\n            console.error(` UpdateScore error : ${error} `);\r\n       
    });\r\n    }\r\n    /* Leaderboard + UserInfo */\r\n    UpdateRankData() {\r\n       
    console.log(`[LeaderBoard] Try to GetRangeRank`);\r\n        ZEPETO_Script_Leaderboard_1.LeaderboardAPI.GetRangeRank(TypeManager_1.RankData.TrashScoreId,
    TypeManager_1.RankData.Rank_Start, TypeManager_1.RankData.Rank_End, ZEPETO_Script_Leaderboard_1.ResetRule.week,
    false, (result) => {\r\n            console.log(`[LeaderBoard] success GetRangeRank`);\r\n           
    /* Text Clear */\r\n            for (let i = 0; i < this.rankUIs.length; i++)
    {\r\n                const ui = this.rankUIs[i];\r\n                ui.text_Id.text
    = TypeManager_1.RankData.Empty;\r\n                ui.text_Score.text = TypeManager_1.RankData.Zero;\r\n           
    }\r\n            // /* Get Player Datas */\r\n            // const mems:string[]
    = [];\r\n            // const ids:string[] = [];\r\n            // if (result.rankInfo.rankList)
    {\r\n            //     for (let i=0; i < result.rankInfo.rankList.length; i++)
    {\r\n            //         if(9 < i) {\r\n            //             break;\r\n           
    //         } else {\r\n            //             const data = result.rankInfo.rankList.get_Item(i);\r\n           
    //             mems.push(data.member);\r\n            //         }\r\n           
    //     }\r\n            // }\r\n            // /* Get Player ID */\r\n           
    // ZepetoWorldHelper.GetUserInfo(mems, (info: Users[]) => {\r\n            //    
    console.log(`[LeaderBoard] success GetUserInfo `);\r\n            //     for
    (const data of info) {\r\n            //         console.log(`data.zepetoId ${data.zepetoId}
    ===> ${data.zepetoId == null}, ${data.zepetoId == \"null\"}`);\r\n           
    //         if(data.zepetoId) ids.push(this.ProcessingId(data.zepetoId))\r\n           
    //         // else ids.push(this.ProcessingId(data.name))\r\n            //    
    }\r\n            //     /* Update Rank Text */\r\n            //     if (result.rankInfo.rankList)
    {\r\n            //         for (let i=0; i < result.rankInfo.rankList.length;
    i++) {\r\n            //             if(9 < i) break;\r\n            //            
    const data = result.rankInfo.rankList.get_Item(i);\r\n            //            
    const ui = this.rankUIs[i];\r\n            //             ui.text_Id.text = ids[i];\r\n           
    //             ui.text_Score.text = data.score.toString();\r\n            //        
    }\r\n            //     }\r\n            // }, (error) => {\r\n            //    
    return console.log(error);\r\n            // });\r\n        }, (error) => {\r\n           
    console.error(error);\r\n        });\r\n    }\r\n    ProcessingId(beforeId) {\r\n       
    if (beforeId.length < 8) {\r\n            return beforeId;\r\n        }\r\n       
    return `${beforeId.slice(0, 6)}***`;\r\n    }\r\n}\r\nexports.default = LeaderBoardManager;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGVhZGVyQm9hcmRNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTGVhZGVyQm9hcmRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXFGO0FBQ3JGLG1EQUFzQztBQUN0QyxpREFBcUQ7QUFDckQseUVBQThHO0FBRTlHLGlFQUEwRDtBQUMxRCwrQ0FBaUQ7QUFFakQsTUFBcUIsa0JBQW1CLFNBQVEscUNBQXFCO0lBQXJFOztRQUlZLFlBQU8sR0FBWSxFQUFFLENBQUM7UUFDdEIsZUFBVSxHQUFZLEtBQUssQ0FBQztJQXNHeEMsQ0FBQztJQXJHRyxJQUFXLFNBQVMsS0FBYyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQzNELElBQVksU0FBUyxDQUFDLEtBQWMsSUFBSSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFFbEUsc0JBQXNCO0lBQ2YsV0FBVztRQUNkLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM1QyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMvQjtRQUNELElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztJQUMxQixDQUFDO0lBRUQsd0JBQXdCO0lBQ2hCLFlBQVksQ0FBQyxLQUFlLEVBQUUsS0FBWTtRQUM5QyxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksU0FBQyxxQkFBSSxFQUFHLENBQUM7UUFDdkQsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFFBQVEs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","assetPath":"Assets/Zepeto
    Multiplay Component/ZepetoScript/Managers/LeaderBoardManager.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"rankCanvas","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"LeaderBoardManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: b61b5bca30e0f019c6a407a89ba65972
  onlyWriteTrigger: 0
